[tools]
# Core tools
go = "1.25.7"
node = { version = "24.14.0", postinstall = "corepack enable" }
crane = "0.21.0"
claude-code = {version = "2.1.59", os = ["darwin"]}

# Security & container tools (used in patch-matrix.yaml)
trivy = "0.68.2"
cosign = "2.6.2"
syft = "1.21.0"

# Go tools (pinned for reproducibility)
"go:github.com/golangci/golangci-lint/v2/cmd/golangci-lint" = "2.9.0"
"go:mvdan.cc/gofumpt" = "0.9.2"
"go:golang.org/x/vuln/cmd/govulncheck" = "1.1.4"

# Linting tools (pinned for reproducibility)
actionlint = "1.7.11"
shellcheck = "0.11.0"
yamllint = "1.38.0"

# Global Node tools (for root-level linting)
"npm:markdownlint-cli" = "0.47.0"

# Note: Site-specific Node tools (prettier, eslint) are managed
# in site/package.json as dev dependencies

[env]
# Explicit GOPATH keeps module cache, installed binaries, and source under one place.
# GOTOOLCHAIN=local prevents Go from auto-downloading a different toolchain version.
GOPATH = "{{ env.HOME }}/dev/go"
GOTOOLCHAIN = "local"
_.path = ["{{ env.HOME }}/dev/go/bin"]
